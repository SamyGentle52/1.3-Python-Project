import pygame
import random
from pygame.locals import *
pygame.init()
yscreen=1000
xscreen=1000
screen = pygame.display.set_mode((xscreen, yscreen))
pygame.display.set_caption("Adventure Seeker")
White = (250, 250, 250)
Red = (250, 10, 10)
Day = (135, 206, 235)
Night = (25, 25, 112)
Times=(Day, Night)
Time=random.choice(Times)
screen.fill(Time)
working = True
yposition = yscreen / 2
xposition = xscreen / 2
setting = "residential"
boughthouse = 0
Inventory = []
InventoryAmount = len(Inventory)
money = 100000000000  # start currency
civ_bank = 100000000000
magiccards = 10
population = 30
populationhealth = 100
boughthouse = 0  # 0 will mean false, 1 means true
pos = (-1, -2)
spritework=0
mainavatar = pygame.image.load ("Vanilla Cupcake.png")
war = "Not in War"
warswon = 0
warslost = 0
cost = 0
militarypower = 0
govtype = "Oligarchy"
def Arrows():
    global yposition, xposition
    pressed = pygame.key.get_pressed ()
    if pressed[pygame.K_DOWN]:
        yposition=yposition+10
        print(yposition)
    if pressed[pygame.K_UP]:
        yposition=yposition-10
        print(yposition)
    if pressed[pygame.K_RIGHT]:
        xposition=xposition+10
        print(xposition)
    if pressed[pygame.K_LEFT]:
        xposition=xposition-10
        print (xposition)
    if pressed[pygame.K_F1]:
        print("hide right corner stuff")
    screen.blit (mainavatar, (xposition, yposition))




#global money, Inventory, InventoryAmount, boughthouse, setting, boughthouse, money
#Residents
#global House1, House2, House3, House4, Villager1, Villager2, Villager3, Villager4, Villager5, Villager6, Villager7
#global Villager8, AvatarHouse, spriteposx, spriteposy, Guide, Furniture, Foreigngoods, arts, tools, jobs, localgoods, clothes
"""""""""

"""""
spriteposx=50
spriteposy=60
"""""""""
#myhouse

#Jobs

MarketPlacePerson= ("Healer", "Ill", "Priest", "Warrior #1", "Warrior#2", "Merchant", "Farmer", "Skills man", "Cooker", "Guide")
VillageResidentsFemale=("Cybil", "AurÃ©lie", "Anouk", "Saskia", "Tana")
VillageResidentsMale=("Akiko", "Cador", "Sabik")
#  Menu: You can exit game, restart game
"""

#IGNORE:
"""""""""
class MarketPlace():
    global guidequestion
    #in begining of game giant arrows lead you a Guide if click on guide:
    guidequestion=input("Hello, you must be the guide, 1.I am a historian, 2.I am a adventurer 3.Neither")  #you
    print("You may talk to me and change your job of "+guidequestion+" anytime.")
    if guidequestion=="historian":
        question2=input("ah, yes I see, you have decided to live in our town to research our lives. Enjoy living here. Would you like instructions on our town?")
        if question2=="yes":
            print("You can find that by clicking on the right hand corner of your screen to view instructions on gameplay.")
            print("Historians have visited our worlds since before our mighty civilliazation arose. These are travelers"
                  "from what they say as the 'future'. Many of us originally believed they were messangers of the gods."
                  "But you historians have denied that, instead requesting to live in secret. So, in exchange for a "
                  "small fee every so often, we allow "
                  "historians to live in secret as commoners, so they can research our empires to educate their "
                  "generation about our endevours. You are unable to interfere with fate, unlike adventurers, and will"
                  "face the dangers of any commoner, except disease. Good luck.")
        else:
            print("Bye")
    if guidequestion == "adventurer":
        print("The great adventurer! So good to finally meet you!")
    elif guidequestion == "exit":
        print("Bye")

    #if click on person:
    changewardrobe=input("Change Wardrobe: New clothes, Change character")

    foregingoods=input("Purchase foreign goods: new foods, better clothes, necessary for task, animals, etc") # ie silk, and ivory
    Arts=input("Arts: Make pottery, learn dance moves, make art, purchase art, purchase jewlry")
    Weapon=input("Create weapon")
    Jobs=input("Jobs: make money slowly,  repeated games to play like educating, or astrologist, or "
          "defense planner, or baker assistant, or worker assistant or irrigation worker, monement builder. Only to make money")

    Task=input("Tasks:Fast way to make money and get materials,Special rewards and tasks, eventualy will lead you to next world. Will also teach you how to play game")
    if guidequestion == "historian":
        print("'Ello. Hear you want some silver coins. Just gotta do some tasks for me")
    if guidequestion == "adventurer":
        print("So great to finally meet you! You are the only one able to rescue our town")
    else:
        print("I ain't got nothin' for foreign blokes like yourself")
    if guidequestion == "adventurer":
        Magic = input ("Magic: helps u defeat evil villian, and keep population healthy, buy more cards,")
    else:
        print("Hey, this ain't for you bub. Adventurers only.")
    Food= input("Food: prepary and purchase food u had in forest, bakery creates treats and etc")
    Furniture = input("Furniture: that u help create for you house")
    Religion = input("Relgion: where illness shelter is, population happines inc, witchcraft involvemnt decreases?, can get married, ")
    Medicine = input("Medicine and Edu: Buy and sell herbs, can buy/take care of animals, learn stuff, write journals, do math?, idk")
#if move up right left and down. Do so accordingly
class Resources():
    print("new scene?")
    #goes from left to right two dimensional to produce random things like trees, (go down for minerals), find animals,
    #some evil creatures that attack u if you are adventurer, river, with fish
                         #Resource area--->Forest, river, fields, mines, animals, farms, ocean,: You can find
  # "Silver dollars, but most come from market place.

class GovernmentBody():
    print("new scene?")#government body, war mini-games?, portal to other worlds, major bosses?
# Market Place and Battle Grounds? and sickness areas?. Market is where you can earn money or collect items.
#  Pottery, will cost clay and 5 silver coins, or some spices and timber
# market place, you can get "silk" or items from different world, not available in your forest or etc.

#if click on portal
    if guidequestion == "adventurer":
        print("Build completion at "+"%")
    else:
        print("Only adventurers have access to this. Enjoy the rest of the town though.")

#go to main govt and enlist in war
    enlist=input("Do you want to fight in war?")
    if enlist=="yes":
        print("Go to War")
    if enlist=="no":
        print("Bye")

        #bind(<Button-1>, )
"""""
def War():
    global warslost, warswon, militarypower
    Enemies = ["Ottoman Empire", "China", "West Europe", "Byzantines", "Incas"]
    Enemy = random.choice(Enemies)
    EnemyPower = random.randint(1, 100)
    EnemyHealth = 1000 + EnemyPower
    EnemyAttack = 100 + EnemyPower
    YourAdvantage = militarypower - EnemyPower
    YourHealth = 1000 + YourAdvantage
    YourAttack = 100 + YourAdvantage
    if YourHealth <= 0 and EnemyHealth>=0:
        warslost = warslost + 1
    if YourHealth >= 0 and EnemyHealth <= 0:
        warswon = warswon + 1

def AllGOVVARIABLES():
    global govtypes
    # type of religious belief
    # if in war
    #type of government
    govtypes = ["Oligarchy", "Republic", "Monarchy", "Democracy", "Dictatorship", "Communism", "Anarchy", "Theocracy"]
    #amount of money govern has, sub in war or when corrupt
    #whether govt takes foreign money --> local market closed, foriegn price down and GOVT BCM CORRUPT
    corrupt = 0 #0 = not corrupt
    #Corrupt or not
    #population size, and pop health
    #rebellions - if gov too corrupt, gov type is same for too long, lost war

#def Jobs():

def makeground():
    global setting, xscreen, oldsetting, font, govtype
    font = pygame.font.SysFont ('Arial',
                                25)  # https://stackoverflow.com/questions/19117062/how-to-add-text-into-a-pygame-rectangle
    if setting == "residential":
        screen.fill (Time)
        House1 = pygame.image.load ("houseblue.png")
        screen.blit (House1, (xscreen / 6 - 200, 60))
        House2 = pygame.image.load ("houseblue.png")
        screen.blit (House2, (xscreen * 2 / 6 - 200, 60))
        House3 = pygame.image.load ("houseblue.png")
        screen.blit (House3, (xscreen * 5 / 6 - 200, 60))
        House4 = pygame.image.load ("houseblue.png")
        screen.blit (House4, (xscreen * 4 / 6 - 200, 60))
        AvatarHouse = pygame.image.load ("houseblue.png")
        screen.blit (AvatarHouse, (xscreen * 3 / 6 - 200, 60))
        """""""""
        Villager1 = pygame.image.load ("Blue.png")
        screen.blit (Villager1, (50, 200))
        Villager2 = pygame.image.load ("HouseIcon.png")
        screen.blit (Villager2, (50, 400))
        Villager3 = pygame.image.load ("HouseIcon.png")
        screen.blit (Villager3, (50, 300))
        Villager4 = pygame.image.load ("HouseIcon.png")
        screen.blit (Villager4, (50, 600))
        Villager5 = pygame.image.load ("HouseIcon.png")
        screen.blit (Villager5, (50, 200))
        Villager6 = pygame.image.load ("HouseIcon.png")
        screen.blit (Villager6, (50, 300))
        Villager7 = pygame.image.load ("HouseIcon.png")
        screen.blit (Villager7, (50, 260))
        Villager8 = pygame.image.load ("HouseIcon.png")
        screen.blit (Villager8, (50, 630))
        """
        arrowtomarket = pygame.draw.polygon (screen, White, (
            (xscreen - 30, yscreen / 2 - 5), (xscreen - 30, yscreen / 2 + 5), (xscreen - 10, yscreen / 2 + 5),
            (xscreen - 10, yscreen / 2 + 15), (xscreen, yscreen / 2), (xscreen - 10, yscreen / 2 - 15), (xscreen - 10,
                                                                                                         yscreen / 2 - 5)))  # https://stackoverflow.com/questions/14897071/drawing-an-arrow-in-pygame
        arrowtogov = pygame.draw.polygon (screen, White, (
            (0 + 30, yscreen / 2 - 5), (0 + 30, yscreen / 2 + 5), (0 + 10, yscreen / 2 + 5), (0 + 10, yscreen / 2 + 15),
            (0, yscreen / 2), (0 + 10, yscreen / 2 - 15), (0 + 10, yscreen / 2 - 5)))
    if setting == "government":
        screen.fill (Time)
        arrowtotown = pygame.draw.polygon (screen, White, (
            (xscreen - 30, yscreen / 2 - 5), (xscreen - 30, yscreen / 2 + 5), (xscreen - 10, yscreen / 2 + 5),
            (xscreen - 10, yscreen / 2 + 15), (xscreen, yscreen / 2), (xscreen - 10, yscreen / 2 - 15), (xscreen - 10,
                                                                                                         yscreen / 2 - 5)))  # https://stackoverflow.com/questions/14897071/drawing-an-arrow-in-pygame
        Escape = pygame.draw.rect (screen, Red, (110, 110, 50, 50))
        screen.blit(font.render("Declare War", True, White), (110, 110))
    if setting == "marketplace":
        if govtype != "communism":
            screen.fill (Time)
            Guide = pygame.image.load ("market.png")
            screen.blit (Guide, (xscreen-300, 5))
            Furniture = pygame.image.load ("market.png")
            screen.blit (Furniture, (xscreen-300, 200))
            Foreigngoods = pygame.image.load ("market.png")
            screen.blit (Foreigngoods, (xscreen-300, 400))
            arts = pygame.image.load ("market.png")
            screen.blit (arts, (xscreen-300, 600))
            tools = pygame.image.load ("market.png")
            screen.blit (tools, (xscreen-300, 800))
            localgoods = pygame.image.load ("market.png")
            screen.blit (localgoods, (0, 5))
            clothes = pygame.image.load ("market.png")
            screen.blit (clothes, (0, yscreen-280))
            arrowtoresident = pygame.draw.polygon (screen, White, (
                (0 + 30, yscreen / 2 - 5), (0 + 30, yscreen / 2 + 5), (0 + 10, yscreen / 2 + 5), (0 + 10, yscreen / 2 + 15),
                (0, yscreen / 2), (0 + 10, yscreen / 2 - 15), (0 + 10, yscreen / 2 - 5)))
            # https://stackoverflow.com/questions/14897071/drawing-an-arrow-in-pygame
    if setting == "neighborhouse":
        screen.fill (Time)
        couch = pygame.image.load ("Couch.png")
        screen.blit (couch, (100, 50))
        screen.blit (couch, (xscreen-400, 50))
        table = pygame.image.load ("Table.png")
        screen.blit (table, (xscreen /2 - 100, 300))
        fireplace = pygame.image.load ("Fireplace.png")
        screen.blit (fireplace, (yscreen - 300, yscreen - 300))
        carpet = pygame.image.load ("Carpet.png")
        screen.blit (carpet, (xscreen / 2 - 150, yscreen-300))
        chest = pygame.image.load ("Chest.png")
        screen.blit (chest, (20, yscreen-300))
        arrownothouse = pygame.draw.polygon (screen, White, (
            (xscreen /2 - 5, yscreen - 30), (xscreen /2 + 5, yscreen - 30), (xscreen /2 + 5, yscreen - 10), (xscreen /2 + 15, yscreen - 10),
            (xscreen /2 , yscreen), (xscreen /2 - 15, yscreen - 10), (xscreen /2 - 5, yscreen - 10)))
    if setting == "avatarhouse":
        screen.fill (Time)
        bed = pygame.image.load ("Bed.png")
        screen.blit (bed, (300, 400))
        arrownohome = pygame.draw.polygon (screen, White, (
            (xscreen /2 - 5, yscreen - 30), (xscreen /2 + 5, yscreen - 30), (xscreen /2 + 5, yscreen - 10), (xscreen /2 + 15, yscreen - 10),
            (xscreen /2 , yscreen), (xscreen /2 - 15, yscreen - 10), (xscreen /2 - 5, yscreen - 10)))
    if setting != "weird":
        oldsetting = setting
    if setting == "Job":
        screen.fill (Time)
    if setting != "Job":
        map_icon = pygame.draw.rect(screen, White, (xscreen-65, 10, 50, 50))
        backpack_icon = pygame.draw.rect(screen, White, (xscreen-125, 10, 50, 50))
        options_icon = pygame.draw.rect(screen, White, (xscreen-185, 10, 50, 50))
        civilization_icon = pygame.draw.rect(screen, White, (xscreen-245, 10, 50, 50))
def click():
    global setting, boughthouse, money, xscreen, yscreen, Inventory, InventoryAmount, oldsetting, war, civ_bank
    if setting == "residential":
        if xscreen * 3 / 6 + 75> pos[0] > xscreen * 3 / 6 - 75 and 280 > pos[1] > 100:
            #def myhousedoor(money, boughthouse): #might conv to global
            house = 1200
            if boughthouse == 0 and money>=house:
                boughthouse=1 # 0 means flase, 1 means true
                money = money-house
            #print("You have bought a house. You have" +money+ "silver coins left")
            if boughthouse == 1:
                setting = "avatarhouse"
                makeground()
        if (xscreen * 3 / 6 + 75  < pos[0] or pos[0] <xscreen * 3 / 6 - 75 ) and (280 > pos[1] > 100):
            #enterneighborhouse = input("Would you like to go into your neighbor's house?")
            #if enterneighborhouse=="yes":
            #print("Go into house.")
            print("hey")
            setting = "neighborhouse"
            makeground()
        if xscreen > pos[0] > xscreen - 30 and yscreen / 2 + 15 > pos[1] > yscreen / 2 - 15 and setting == "residential":
            setting = "marketplace"
            makeground()
        if 30 > pos[0] > 0 and yscreen / 2 + 15 > pos[1] > yscreen / 2 - 15:
            setting = "government"
            makeground()
            screen.blit(font.render("Government Body", True, (50, 255, 100)), (xscreen / 2 - 300, yscreen / 2 - 200))
    if setting == "neighborhouse":
        makeground ()
        if xscreen / 2 + 15 > pos[0] > xscreen / 2 - 15 and yscreen > pos[1] > yscreen - 30:
            setting = "residential"
            makeground ()
    if setting == "government":
        makeground()
        if xscreen > pos[0] > xscreen - 30 and yscreen / 2 + 15 > pos[1] > yscreen / 2 - 15:
            setting = "residential"
            makeground()
        while civ_bank>10000 and 110 + 50 > pos[0] > 110 and 400 + 50 > pos[1] > 400 and militarypower<100:
            cost = 10000
            civ_bank = civ_bank - cost
            militarypower = militarypower + 1
        if 110 + 50 > pos[0] > 110 and 110 + 50 > pos[1] > 110:
            war = "Declared"
            War()

    if setting == "avatarhouse":
        makeground ()
        if xscreen / 2 + 15 > pos[0] > xscreen / 2 - 15 and yscreen > pos[1] > yscreen - 30:
            setting = "residential"
            makeground ()
    if setting == "marketplace":
        if govtype != "communism":
            clothesprice = 30
            localprice = 50
            furnitureprice = 200
            Foreignprice = 75
            artprice = 20
            if setting == "marketplace" and 30 > pos[0] > 0 and yscreen / 2 + 15 > pos[1] > yscreen / 2 - 15:
                setting = "residential"
                makeground()
            if xscreen - 50 > pos[0] > xscreen - 400 and yscreen > pos[1] > 150 and money > clothesprice:
                money = money - clothesprice
            if xscreen - 50 > pos[0] > xscreen - 400 and yscreen > pos[1] > 150 and money > artprice:
                money = money - artprice
            if InventoryAmount < 10:
                if xscreen - 50 > pos[0] > xscreen - 400 and yscreen > pos[1] > 150 and money > furnitureprice:
                    money = money - furnitureprice
                    Inventory.append("bed")
                if xscreen - 50 > pos[0] > xscreen - 400 and yscreen > pos[1] > 150 and money > localprice:
                    money = money - localprice
                    Inventory.append("bed")
                if xscreen - 50 > pos[0] > xscreen - 400 and yscreen > pos[1] > 150 and money > Foreignprice:
                    money = money - Foreignprice
                    Inventory.append("bed")
            else:
                Inventory.remove(9)
                print ("gone")
            if 0 + 100 > pos[0] > 0 and 0 + 200 > pos[1] > 0:
                setting = "job"
                makeground ()
        else:
            quotes = random.randint(1,3)
            if quotes == 1:
                screen.blit (font.render ("Karl Marx-'The worker of the world has nothing to lose, but their chains' so get to work", True, (255, 0, 0)), (0, 300))
            if quotes == 2:
                screen.blit (font.render (
                    "Death is a solution to all problems. No man - no problem. Are you a problem?",
                    True, (255, 0, 0)), (0, 300))
            if quotes == 3:
                screen.blit (font.render (
                    "Communism is not love. Communism is a hammer which we  use to crush the enemy.- Mao Zedong. Take a hammer",
                    True, (255, 0, 0)), (0, 300))
                Inventory.append("hammer")
            if pos[0] < xscreen - 30:
                setting = "residential"
                makeground()

    if setting == "Job":
        print("hmm...")
        unemployment = random.randint(1, 10)
        if unemployment != 1 or govtype != "anarchy" or govtype != "communism":
            Job()
        else:
            screen.blit (font.render ("Oh no, you can't work.", True, (255, 0, 0)), (200, 300))


    if setting != "Job":
        if xscreen - 65 + 50 > pos[0] > xscreen - 65 and 60 > pos [1] > 10 or xscreen - 125 + 50 > pos[0] > \
                xscreen - 125 and 60 > pos[1] > 10 or xscreen - 185 + 50 > pos[0] > xscreen - 185 and 60 > pos[1] > 10\
                or xscreen - 245 + 50 > pos[0] > xscreen - 245 and 60 > pos[1] > 10:
            setting = "weird"
            pygame.draw.rect(screen, White, (100, 100, xscreen - 200, yscreen - 300))
            Escape = pygame.draw.rect (screen, Red, (110, 110, 30, 30))
        if xscreen - 65 + 50 > pos[0] > xscreen - 65 and 60 > pos[1] > 10:
            screen.blit(font.render("Map", True, (150, 200, 100)), (xscreen / 2, 150))
            govern = pygame.draw.rect(screen, Red, (xscreen / 2 + 200, yscreen / 2 - 100, 100, 100))
            screen.blit(font.render("Trade Center", True, (50, 255, 100)), (xscreen / 2 + 200, yscreen / 2 - 200))
            house = pygame.draw.rect(screen, Red, (xscreen / 2 - 50, yscreen / 2 - 100, 100, 100))
            screen.blit(font.render("Town", True, (50, 255, 100)), (xscreen / 2 - 50, yscreen / 2 - 200))
            tradecen = pygame.draw.rect(screen, Red, (xscreen / 2 - 300, yscreen / 2 - 100, 100, 100))
            screen.blit(font.render("Government Body", True, (50, 255, 100)), (xscreen / 2 - 300, yscreen / 2 - 200))
        if xscreen - 125 + 50 > pos[0] > xscreen - 125 and 60 > pos[1] > 10:
            screen.blit(font.render("Inventory", True, (255, 0, 0)), (400, 100))
            screen.blit(font.render(" Item amount: " + str(InventoryAmount) + " Inventory: " + str(Inventory) +
                                    " Silver Coins: " + str(money), True, (255, 0, 0)), (200, 300))
        if xscreen - 245 + 50 > pos[0] > xscreen - 245 and 60 > pos[1] > 10:
            screen.blit(font.render("Civilization Status", True, (255, 0, 0)), (200, 100))
            screen.blit(font.render("In war: " + str(war) + " Wars won: " + str(warswon) + " Wars lost: " + str(warslost), True, (255, 0, 0)), (300, 300))

        if xscreen - 245 + 50 > pos[0] > xscreen - 245 and 60 > pos[1] > 10:
            print("options")
        if 110 + 30 > pos[0] > 110 and 110 + 30 > pos[1] > 110:
            setting = oldsetting
            makeground ()
makeground ()


while working == True:
    pygame.display.update ()
    for event in pygame.event.get ():
        if event.type == QUIT:
            working = False
            pygame.quit ()
        if event.type == pygame.KEYDOWN:
            Arrows ()
        if event.type == pygame.MOUSEBUTTONDOWN:
            #a=sprites()
            #a.clickimage()
            pos = pygame.mouse.get_pos ()
            click()

#https://openclipart.org/detail/29102/blue-sofa
